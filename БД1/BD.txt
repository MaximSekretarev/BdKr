CREATE TABLE Spetsialnost
(
id INT PRIMARY KEY IDENTITY NOT NULL,
nazvaniye VARCHAR(200) UNIQUE NOT NULL,
kod VARCHAR(20) UNIQUE NOT NULL
);

CREATE TABLE Dolzhnost
(
id INT PRIMARY KEY IDENTITY NOT NULL,
name_dolzhnost VARCHAR(100) NOT NULL
);

CREATE TABLE Sotrudnik
(
id INT PRIMARY KEY IDENTITY NOT NULL,
id_dolzhnost INT DEFAULT -1 NOT NULL,
imya VARCHAR(80) NOT NULL,
familiya VARCHAR(80) NOT NULL,
otchestvo VARCHAR(80) NULL,
email VARCHAR(80) NULL,
telefon VARCHAR(12) NULL,
FOREIGN KEY (id_dolzhnost) REFERENCES Dolzhnost (id) ON DELETE SET DEFAULT ON UPDATE CASCADE
);

CREATE TABLE Gruppa
(
id INT PRIMARY KEY IDENTITY NOT NULL,
id_spetsialnost INT DEFAULT -1 NOT NULL,
id_kurator INT DEFAULT -1 NOT NULL,
kurs INT NOT NULL,
name_gruppa VARCHAR(50) NOT NULL,
FOREIGN KEY (id_spetsialnost) REFERENCES Spetsialnost (id) ON DELETE SET DEFAULT ON UPDATE CASCADE,
FOREIGN KEY (id_kurator) REFERENCES Sotrudnik (id) ON DELETE SET DEFAULT ON UPDATE CASCADE
);

CREATE TABLE Student
(
id INT PRIMARY KEY IDENTITY NOT NULL,
id_gruppa INT DEFAULT -1 NOT NULL,
imya VARCHAR(80) NOT NULL,
familiya VARCHAR(80) NOT NULL,
otchestvo VARCHAR(80) NULL,
mesto_prozhivaniye VARCHAR(200) NOT NULL,
student_number INT NOT NULL,
forma_obucheniya VARCHAR(20) NOT NULL,
email VARCHAR(100) NULL,
telefon VARCHAR(12) NULL,
data_rozhdeniya DATE NOT NULL,
FOREIGN KEY (id_gruppa) REFERENCES Gruppa (id) ON DELETE SET DEFAULT ON UPDATE CASCADE
); 

CREATE TABLE Predmet_gruppa
(
id INT PRIMARY KEY IDENTITY NOT NULL,
id_prepodavatel INT DEFAULT -1 NOT NULL,
id_gruppa INT DEFAULT -1 NOT NULL,
predmet VARCHAR(100) NOT NULL,
vremya INT NOT NULL,
FOREIGN KEY (id_prepodavatel) REFERENCES Sotrudnik (id) ON DELETE SET DEFAULT ON UPDATE NO ACTION,
FOREIGN KEY (id_gruppa) REFERENCES Gruppa (id) ON DELETE SET DEFAULT ON UPDATE NO ACTION
);

CREATE TABLE Zanyatiye
(
id INT PRIMARY KEY IDENTITY NOT NULL,
id_predmet INT DEFAULT -1 NOT NULL,
data_zanyatiye DATE NOT NULL,
kabinet VARCHAR(10) NULL,
FOREIGN KEY (id_predmet) REFERENCES Predmet_gruppa (id) ON DELETE SET DEFAULT ON UPDATE CASCADE
);

CREATE TABLE Zanyatiye_student
(
id INT PRIMARY KEY IDENTITY NOT NULL,
id_student INT DEFAULT -1 NOT NULL,
id_zanyatiye INT DEFAULT -1 NOT NULL,
otsenka INT NULL,
poseshcheniye VARCHAR(10) NULL,
FOREIGN KEY (id_student) REFERENCES Student (id) ON DELETE SET DEFAULT ON UPDATE NO ACTION,
FOREIGN KEY (id_zanyatiye) REFERENCES Zanyatiye (id) ON DELETE SET DEFAULT ON UPDATE NO ACTION
);